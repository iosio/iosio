{"version":3,"file":"fuse.worker.js","sources":["../src/fuse.worker.js"],"sourcesContent":["/*\n\n\n\n------------------- START FUSE.JS SOURCE CODE  ---------------------------------\n\n//@TODO: need to find rollup plugin that will correctly handle web worker files\n\n\n */\nconst t = /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;\nvar e = (e, s, n = / +/g) => {\n        let r = new RegExp(s.replace(t, \"\\\\$&\").replace(n, \"|\")), o = e.match(r), i = !!o, a = [];\n        if (i) for (let t = 0, s = o.length; t < s; t += 1) {\n            let s = o[t];\n            a.push([e.indexOf(s), s.length - 1])\n        }\n        return {score: i ? .5 : 1, isMatch: i, matchedIndices: a}\n    }, s = (t, {errors: e = 0, currentLocation: s = 0, expectedLocation: n = 0, distance: r = 100}) => {\n        const o = e / t.length, i = Math.abs(n - s);\n        return r ? o + i / r : i ? 1 : o\n    }, n = (t = [], e = 1) => {\n        let s = [], n = -1, r = -1, o = 0;\n        for (let i = t.length; o < i; o += 1) {\n            let i = t[o];\n            i && -1 === n ? n = o : i || -1 === n || ((r = o - 1) - n + 1 >= e && s.push([n, r]), n = -1)\n        }\n        return t[o - 1] && o - n >= e && s.push([n, o - 1]), s\n    },\n    r = (t, e, r, {location: o = 0, distance: i = 100, threshold: a = .6, findAllMatches: h = !1, minMatchCharLength: l = 1}) => {\n        const c = o, u = t.length;\n        let p = a, d = t.indexOf(e, c);\n        const g = e.length, f = [];\n        for (let t = 0; t < u; t += 1) f[t] = 0;\n        if (-1 !== d) {\n            let n = s(e, {errors: 0, currentLocation: d, expectedLocation: c, distance: i});\n            if (p = Math.min(n, p), -1 !== (d = t.lastIndexOf(e, c + g))) {\n                let t = s(e, {errors: 0, currentLocation: d, expectedLocation: c, distance: i});\n                p = Math.min(t, p)\n            }\n        }\n        d = -1;\n        let m = [], y = 1, S = g + u;\n        const k = 1 << (g <= 31 ? g - 1 : 30);\n        for (let n = 0; n < g; n += 1) {\n            let o = 0, a = S;\n            for (; o < a;) s(e, {\n                errors: n,\n                currentLocation: c + a,\n                expectedLocation: c,\n                distance: i\n            }) <= p ? o = a : S = a, a = Math.floor((S - o) / 2 + o);\n            S = a;\n            let l = Math.max(1, c - a + 1), M = h ? u : Math.min(c + a, u) + g, x = Array(M + 2);\n            x[M + 1] = (1 << n) - 1;\n            for (let o = M; o >= l; o -= 1) {\n                let a = o - 1, h = r[t.charAt(a)];\n                if (h && (f[a] = 1), x[o] = (x[o + 1] << 1 | 1) & h, 0 !== n && (x[o] |= (m[o + 1] | m[o]) << 1 | 1 | m[o + 1]), x[o] & k && (y = s(e, {\n                    errors: n,\n                    currentLocation: a,\n                    expectedLocation: c,\n                    distance: i\n                })) <= p) {\n                    if (p = y, (d = a) <= c) break;\n                    l = Math.max(1, 2 * c - d)\n                }\n            }\n            if (s(e, {errors: n + 1, currentLocation: c, expectedLocation: c, distance: i}) > p) break;\n            m = x\n        }\n        return {isMatch: d >= 0, score: 0 === y ? .001 : y, matchedIndices: n(f, l)}\n    }, o = t => {\n        let e = {}, s = t.length;\n        for (let n = 0; n < s; n += 1) e[t.charAt(n)] = 0;\n        for (let n = 0; n < s; n += 1) e[t.charAt(n)] |= 1 << s - n - 1;\n        return e\n    };\n\nclass i {\n    constructor(t, {location: e = 0, distance: s = 100, threshold: n = .6, maxPatternLength: r = 32, isCaseSensitive: i = !1, tokenSeparator: a = / +/g, findAllMatches: h = !1, minMatchCharLength: l = 1}) {\n        this.options = {\n            location: e,\n            distance: s,\n            threshold: n,\n            maxPatternLength: r,\n            isCaseSensitive: i,\n            tokenSeparator: a,\n            findAllMatches: h,\n            minMatchCharLength: l\n        }, this.pattern = this.options.isCaseSensitive ? t : t.toLowerCase(), this.pattern.length <= r && (this.patternAlphabet = o(this.pattern))\n    }\n\n    search(t) {\n        if (this.options.isCaseSensitive || (t = t.toLowerCase()), this.pattern === t) return {\n            isMatch: !0,\n            score: 0,\n            matchedIndices: [[0, t.length - 1]]\n        };\n        const {maxPatternLength: s, tokenSeparator: n} = this.options;\n        if (this.pattern.length > s) return e(t, this.pattern, n);\n        const {location: o, distance: i, threshold: a, findAllMatches: h, minMatchCharLength: l} = this.options;\n        return r(t, this.pattern, this.patternAlphabet, {\n            location: o,\n            distance: i,\n            threshold: a,\n            findAllMatches: h,\n            minMatchCharLength: l\n        })\n    }\n}\n\nvar a = t => Array.isArray ? Array.isArray(t) : \"[object Array]\" === Object.prototype.toString.call(t);\nconst h = (t, e, s) => {\n    if (e) {\n        const n = e.indexOf(\".\");\n        let r = e, o = null;\n        -1 !== n && (r = e.slice(0, n), o = e.slice(n + 1));\n        const i = t[r];\n        if (null != i) if (o || \"string\" != typeof i && \"number\" != typeof i) if (a(i)) for (let t = 0, e = i.length; t < e; t += 1) h(i[t], o, s); else o && h(i, o, s); else s.push(i.toString())\n    } else s.push(t);\n    return s\n};\nvar l = (t, e) => h(t, e, []);\n\nclass c {\n    constructor(t, {location: e = 0, distance: s = 100, threshold: n = .6, maxPatternLength: r = 32, caseSensitive: o = !1, tokenSeparator: i = / +/g, findAllMatches: a = !1, minMatchCharLength: h = 1, id: c = null, keys: u = [], shouldSort: p = !0, getFn: d = l, sortFn: g = ((t, e) => t.score - e.score), tokenize: f = !1, matchAllTokens: m = !1, includeMatches: y = !1, includeScore: S = !1, verbose: k = !1}) {\n        this.options = {\n            location: e,\n            distance: s,\n            threshold: n,\n            maxPatternLength: r,\n            isCaseSensitive: o,\n            tokenSeparator: i,\n            findAllMatches: a,\n            minMatchCharLength: h,\n            id: c,\n            keys: u,\n            includeMatches: y,\n            includeScore: S,\n            shouldSort: p,\n            getFn: d,\n            sortFn: g,\n            verbose: k,\n            tokenize: f,\n            matchAllTokens: m\n        }, this.setCollection(t)\n    }\n\n    setCollection(t) {\n        return this.list = t, t\n    }\n\n    search(t, e = {limit: !1}) {\n        this._log(`---------\\nSearch pattern: \"${t}\"`);\n        const {tokenSearchers: s, fullSearcher: n} = this._prepareSearchers(t);\n        let {weights: r, results: o} = this._search(s, n);\n        return this._computeScore(r, o), this.options.shouldSort && this._sort(o), e.limit && \"number\" == typeof e.limit && (o = o.slice(0, e.limit)), this._format(o)\n    }\n\n    _prepareSearchers(t = \"\") {\n        const e = [];\n        if (this.options.tokenize) {\n            const s = t.split(this.options.tokenSeparator);\n            for (let t = 0, n = s.length; t < n; t += 1) e.push(new i(s[t], this.options))\n        }\n        return {tokenSearchers: e, fullSearcher: new i(t, this.options)}\n    }\n\n    _search(t = [], e) {\n        const s = this.list, n = {}, r = [];\n        if (\"string\" == typeof s[0]) {\n            for (let o = 0, i = s.length; o < i; o += 1) this._analyze({\n                key: \"\",\n                value: s[o],\n                record: o,\n                index: o\n            }, {resultMap: n, results: r, tokenSearchers: t, fullSearcher: e});\n            return {weights: null, results: r}\n        }\n        const o = {};\n        for (let i = 0, a = s.length; i < a; i += 1) {\n            let a = s[i];\n            for (let s = 0, h = this.options.keys.length; s < h; s += 1) {\n                let h = this.options.keys[s];\n                if (\"string\" != typeof h) {\n                    if (o[h.name] = {weight: 1 - h.weight || 1}, h.weight <= 0 || h.weight > 1) throw new Error(\"Key weight has to be > 0 and <= 1\");\n                    h = h.name\n                } else o[h] = {weight: 1};\n                this._analyze({key: h, value: this.options.getFn(a, h), record: a, index: i}, {\n                    resultMap: n,\n                    results: r,\n                    tokenSearchers: t,\n                    fullSearcher: e\n                })\n            }\n        }\n        return {weights: o, results: r}\n    }\n\n    _analyze({key: t, arrayIndex: e = -1, value: s, record: n, index: r}, {tokenSearchers: o = [], fullSearcher: i = [], resultMap: h = {}, results: l = []}) {\n        if (null == s) return;\n        let c = !1, u = -1, p = 0;\n        if (\"string\" == typeof s) {\n            this._log(`\\nKey: ${\"\" === t ? \"-\" : t}`);\n            let a = i.search(s);\n            if (this._log(`Full text: \"${s}\", score: ${a.score}`), this.options.tokenize) {\n                let t = s.split(this.options.tokenSeparator), e = [];\n                for (let s = 0; s < o.length; s += 1) {\n                    let n = o[s];\n                    this._log(`\\nPattern: \"${n.pattern}\"`);\n                    let r = !1;\n                    for (let s = 0; s < t.length; s += 1) {\n                        let o = t[s], i = n.search(o), a = {};\n                        i.isMatch ? (a[o] = i.score, c = !0, r = !0, e.push(i.score)) : (a[o] = 1, this.options.matchAllTokens || e.push(1)), this._log(`Token: \"${o}\", score: ${a[o]}`)\n                    }\n                    r && (p += 1)\n                }\n                u = e[0];\n                let n = e.length;\n                for (let t = 1; t < n; t += 1) u += e[t];\n                u /= n, this._log(\"Token score average:\", u)\n            }\n            let d = a.score;\n            u > -1 && (d = (d + u) / 2), this._log(\"Score average:\", d);\n            let g = !this.options.tokenize || !this.options.matchAllTokens || p >= o.length;\n            if (this._log(`\\nCheck Matches: ${g}`), (c || a.isMatch) && g) {\n                let o = h[r];\n                o ? o.output.push({\n                    key: t,\n                    arrayIndex: e,\n                    value: s,\n                    score: d,\n                    matchedIndices: a.matchedIndices\n                }) : (h[r] = {\n                    item: n,\n                    output: [{key: t, arrayIndex: e, value: s, score: d, matchedIndices: a.matchedIndices}]\n                }, l.push(h[r]))\n            }\n        } else if (a(s)) for (let e = 0, a = s.length; e < a; e += 1) this._analyze({\n            key: t,\n            arrayIndex: e,\n            value: s[e],\n            record: n,\n            index: r\n        }, {resultMap: h, results: l, tokenSearchers: o, fullSearcher: i})\n    }\n\n    _computeScore(t, e) {\n        this._log(\"\\n\\nComputing score:\\n\");\n        for (let s = 0, n = e.length; s < n; s += 1) {\n            const n = e[s].output, r = n.length;\n            let o = 1, i = 1;\n            for (let e = 0; e < r; e += 1) {\n                let s = t ? t[n[e].key].weight : 1, r = (1 === s ? n[e].score : n[e].score || .001) * s;\n                1 !== s ? i = Math.min(i, r) : (n[e].nScore = r, o *= r)\n            }\n            e[s].score = 1 === i ? o : i, this._log(e[s])\n        }\n    }\n\n    _sort(t) {\n        this._log(\"\\n\\nSorting....\"), t.sort(this.options.sortFn)\n    }\n\n    _format(t) {\n        const e = [];\n        if (this.options.verbose) {\n            let e = [];\n            this._log(\"\\n\\nOutput:\\n\\n\", JSON.stringify(t, (function (t, s) {\n                if (\"object\" == typeof s && null !== s) {\n                    if (-1 !== e.indexOf(s)) return;\n                    e.push(s)\n                }\n                return s\n            }))), e = null\n        }\n        let s = [];\n        this.options.includeMatches && s.push((t, e) => {\n            const s = t.output;\n            e.matches = [];\n            for (let t = 0, n = s.length; t < n; t += 1) {\n                let n = s[t];\n                if (0 === n.matchedIndices.length) continue;\n                let r = {indices: n.matchedIndices, value: n.value};\n                n.key && (r.key = n.key), n.hasOwnProperty(\"arrayIndex\") && n.arrayIndex > -1 && (r.arrayIndex = n.arrayIndex), e.matches.push(r)\n            }\n        }), this.options.includeScore && s.push((t, e) => {\n            e.score = t.score\n        });\n        for (let n = 0, r = t.length; n < r; n += 1) {\n            const r = t[n];\n            if (this.options.id && (r.item = this.options.getFn(r.item, this.options.id)[0]), !s.length) {\n                e.push(r.item);\n                continue\n            }\n            const o = {item: r.item};\n            for (let t = 0, e = s.length; t < e; t += 1) s[t](r, o);\n            e.push(o)\n        }\n        return e\n    }\n\n    _log() {\n        this.options.verbose && console.log(...arguments)\n    }\n}\n/*\n\n------------------- END FUSE.JS SOURCE CODE  ---------------------------------\n\n*/\n\nconst Fuse = c;\n\nlet _options = {};\n\nlet originalList = [];\n\nlet fuse = null;\n\nconst setFuse = ({list, options}) => {\n    if (options) _options = {..._options, ...options};\n    if (list) originalList = list;\n    fuse = new Fuse(originalList, _options);\n};\n\nonmessage = (e) => {\n    const {type, data} = e.data;\n    if (type === 'set') {\n        setFuse(data);\n    } else if (type === 'search' && fuse) {\n        postMessage({\n            type: 'search',\n            data: {\n                searchValue: data,\n                results: fuse.search(data)\n            }\n        })\n    } else if (!fuse) {\n        console.error('fuse needs to be set');\n    }\n};\n\n\n"],"names":["t","e","s","n","r","RegExp","replace","o","match","i","a","length","push","indexOf","score","isMatch","matchedIndices","errors","currentLocation","expectedLocation","distance","Math","abs","location","threshold","findAllMatches","h","minMatchCharLength","l","c","u","p","d","g","f","min","lastIndexOf","m","y","S","k","floor","max","M","x","Array","charAt","constructor","maxPatternLength","isCaseSensitive","tokenSeparator","this","options","pattern","toLowerCase","patternAlphabet","search","isArray","Object","prototype","toString","call","slice","_options","originalList","fuse","onmessage","type","data","list","caseSensitive","id","keys","shouldSort","getFn","sortFn","tokenize","matchAllTokens","includeMatches","includeScore","verbose","setCollection","limit","_log","tokenSearchers","fullSearcher","_prepareSearchers","weights","results","_search","_computeScore","_sort","_format","split","_analyze","key","value","record","index","resultMap","name","weight","Error","arrayIndex","output","item","nScore","sort","JSON","stringify","matches","indices","hasOwnProperty","console","log","arguments","postMessage","searchValue","error"],"mappings":"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"}