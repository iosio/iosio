import{Component as t,h as e}from"preact";import{useState as o,useCallback as r,useEffect as s}from"preact/hooks";const n=()=>Object.create(null),a=o=>r=>{function s(){let t=[];[].concat(o).forEach(e=>t.push(e.$onChange(()=>this.setState(n())))),this.componentWillUnmount=()=>t.forEach(t=>t()),this.render=()=>e(r,this.props,this.props.children)}return(s.prototype=new t).constructor=s},c=()=>{const[,t]=o(n());return r(()=>t(n()),[t])},h=t=>{let e=c();s(()=>{let o=[];return[].concat(t).forEach(t=>o.push(t.$onChange(e))),()=>o.forEach(t=>t())},[])};export{a as connectObi,c as useForceUpdate,h as useObi};
//# sourceMappingURL=index.js.map
