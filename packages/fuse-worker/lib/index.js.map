{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["export const FuseWorker = (config = {}) => {\n    let {workerURL, list, options} = config;\n\n    let _options = {\n        shouldSort: true,\n        minMatchCharLength: 1,\n        findAllMatches: true,\n        keys: ['name'],\n        maxPatternLength: 50,\n        threshold: 0.4,\n        distance: 1000,\n        location: 0,\n        ...options\n    };\n\n    let originalList = list || [],\n        lastSearchValue = '', cb;\n\n    const worker = new Worker(workerURL || './fuse.worker.js'),\n\n        set = ({list, options}) => {\n            if (options) _options = {..._options, ...options};\n            if (list) originalList = list;\n            worker.postMessage({type: 'set', data: {list: originalList, options: _options}});\n        },\n        search = (value, callback) => {\n            lastSearchValue = value;\n            cb = callback;\n            worker.postMessage({type: 'search', data: value});\n        };\n\n    set({list, options: _options});\n\n    worker.onmessage = ({data}) => {\n        const {searchValue, results} = data.data;\n        (searchValue === lastSearchValue) && cb && cb(!searchValue ? originalList : results);\n    };\n\n    return {set, search};\n};\n\n\n\n\n\n\n\n\n"],"names":["FuseWorker","config","cb","workerURL","list","options","_options","shouldSort","minMatchCharLength","findAllMatches","keys","maxPatternLength","threshold","distance","location","originalList","lastSearchValue","worker","Worker","set","postMessage","type","data","onmessage","searchValue","results","search","value","callback"],"mappings":"AAAaA,MAAAA,EAAa,CAACC,EAAS,MAChC,IAe0BC,GAftBC,UAACA,EAADC,KAAYA,EAAZC,QAAkBA,GAAWJ,EAE7BK,EAAW,CACXC,YAAY,EACZC,mBAAoB,EACpBC,gBAAgB,EAChBC,KAAM,CAAC,QACPC,iBAAkB,GAClBC,UAAW,GACXC,SAAU,IACVC,SAAU,KACPT,GAGHU,EAAeX,GAAQ,GACvBY,EAAkB,GAEtB,MAAMC,EAAS,IAAIC,OAAOf,GAAa,oBAEnCgB,EAAM,EAAEf,KAAAA,EAAMC,QAAAA,MACNA,IAASC,EAAW,IAAIA,KAAaD,IACrCD,IAAMW,EAAeX,GACzBa,EAAOG,YAAY,CAACC,KAAM,MAAOC,KAAM,CAAClB,KAAMW,EAAcV,QAASC,MAe7E,OAPAa,EAAI,CAACf,KAAAA,EAAMC,QAASC,IAEpBW,EAAOM,UAAY,EAAED,KAAAA,MACjB,MAAME,YAACA,EAADC,QAAcA,GAAWH,EAAKA,KACnCE,IAAgBR,GAAoBd,GAAMA,EAAIsB,EAA6BC,EAAfV,IAG1D,CAACI,IAAAA,EAAKO,OAbA,CAACC,EAAOC,KACbZ,EAAkBW,EAClBzB,EAAK0B,EACLX,EAAOG,YAAY,CAACC,KAAM,SAAUC,KAAMK"}