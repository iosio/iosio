{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import {obi} from \"@iosio/obi\";\n\nexport const obiClient = ({ routes, ...rest}) => {\n    const $client = obi({\n\n        fetchingStates: Object.keys(routes).reduce((obj, name) => (obj[name] = false, obj), {}),\n\n        ...Object.keys(routes).reduce((obj, name) => {\n            obj[name] = (...args) => {\n                $client.fetchingStates[name] = true;\n                return routes[name](...args).then(data => {\n                    $client.fetchingStates[name] = false;\n                    return data;\n                }).catch(err => {\n                    $client.fetchingStates[name] = false;\n                    return Promise.reject(err);\n                })\n            };\n            return obj;\n        }, {}),\n\n        ...rest\n    });\n\n    return $client;\n};"],"names":["obiClient","routes","rest","$client","obi","fetchingStates","Object","keys","reduce","obj","name","args","then","data","catch","err","Promise","reject"],"mappings":"iCAEaA,MAAAA,EAAY,EAAGC,OAAAA,KAAWC,MACnC,MAAMC,EAAUC,EAAI,CAEhBC,eAAgBC,OAAOC,KAAKN,GAAQO,OAAO,CAACC,EAAKC,KAAUD,EAAIC,IAAQ,EAAOD,GAAM,OAEjFH,OAAOC,KAAKN,GAAQO,OAAO,CAACC,EAAKC,KAChCD,EAAIC,GAAQ,IAAIC,KACZR,EAAQE,eAAeK,IAAQ,EACxBT,EAAOS,MAASC,GAAMC,KAAKC,IAC9BV,EAAQE,eAAeK,IAAQ,EACxBG,IACRC,MAAMC,IACLZ,EAAQE,eAAeK,IAAQ,EACxBM,QAAQC,OAAOF,MAGvBN,GACR,OAEAP,IAGP,OAAOC"}