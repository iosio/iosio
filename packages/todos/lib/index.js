import{lorem as e}from"@iosio/lorem";import{debounce as i}from"@iosio/util";import{obi as t}from"@iosio/obi";let s=0;const o=["Make sweet library","make cool apps","test library","go buy dog food","register vehicles"].map(e=>({id:s++,name:e,completed:!1}));Promise.pending=Promise.race.bind(Promise,[]);let l=()=>{};import("./74cf5d9b.js");let a=!1,r={};const d=e=>{a&&(l(),a=!1),m.searchValue=e,0===(e=e.toLowerCase()).length?m.displayList=[...m.list]:r[e]?m.displayList=r[e]:((e,i)=>(a=!0,import("./74cf5d9b.js").then(({searchWorker:t})=>new Promise(s=>{l=()=>s(Promise.pending()),t({value:e,list:i}).then(s)}))))(e,m.list).then(({update:i,originalSearch:t})=>{r[t]=i,e===t&&0!==e.length?m.displayList=i:0===e.length&&(m.displayList=[...m.list])})},m=t({list:o,displayList:o,todoName:"",searchValue:"",testValue:!0,makeABunch(){m.displayList=m.list=[...m.list,...e().split(" ").map(e=>({id:s++,name:e+` ${s}`,completed:!1}))]},removeTodo(e){let i=m.list.filter(i=>i.id!==e.id),t=0===m.searchValue.length?i:i.filter(e=>-1!==e.name.search(m.searchValue));m.list=[...i],m.displayList=[...t]},setSearchValueDebounced:i(d,2),setSearchValue:d,addTodo(e){e&&e.preventDefault(),m.list.push({name:m.todoName,id:s++,completed:!1}),(()=>r={})(),m.displayList=m.list=[...m.list],m.searchValue=m.todoName=""},captureEnter(e){13===(e.keyCode||e.which)&&m.addTodo(e)}});export{m as todos};
