import{routing as t}from"@iosio/routing";export{routing}from"@iosio/routing";var e,n,o,r,i={},l=[],u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function _(t,e){for(var n in e)t[n]=e[n];return t}function c(t){var e=t.parentNode;e&&e.removeChild(t)}function a(t,e,n){var o,r=arguments,i={};for(o in e)"key"!==o&&"ref"!==o&&(i[o]=e[o]);if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(r[o]);if(null!=n&&(i.children=n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===i[o]&&(i[o]=t.defaultProps[o]);return s(t,i,e&&e.key,e&&e.ref)}function s(t,n,o,r){var i={type:t,props:n,key:o,ref:r,__k:null,__:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return e.vnode&&e.vnode(i),i}function p(t){return t.children}function f(t,e){this.props=t,this.context=e}function h(t,e){if(null==e)return t.__?h(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?h(t):null}function d(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return d(t)}}function v(t){(!t.__d&&(t.__d=!0)&&1===n.push(t)||r!==e.debounceRendering)&&((r=e.debounceRendering)||o)(m)}function m(){var t,e,o,r,i,l,u;for(n.sort(function(t,e){return e.__v.__b-t.__v.__b});t=n.pop();)t.__d&&(o=void 0,r=void 0,l=(i=(e=t).__v).__e,(u=e.__P)&&(o=[],r=x(u,i,_({},i),e.__n,void 0!==u.ownerSVGElement,null,o,null==l?h(i):l),S(o,i),r!=l&&d(i)))}function y(t,e,n,o,r,u,_,a,s){var p,f,d,v,m,y,b,k=n&&n.__k||l,w=k.length;if(a==i&&(a=null!=u?u[0]:w?h(n,0):null),p=0,e.__k=g(e.__k,function(n){if(null!=n){if(n.__=e,n.__b=e.__b+1,null===(d=k[p])||d&&n.key==d.key&&n.type===d.type)k[p]=void 0;else for(f=0;f<w;f++){if((d=k[f])&&n.key==d.key&&n.type===d.type){k[f]=void 0;break}d=null}if(v=x(t,n,d=d||i,o,r,u,_,a,s),(f=n.ref)&&d.ref!=f&&(b||(b=[]),d.ref&&b.push(d.ref,null,n),b.push(f,n.__c||v,n)),null!=v){if(null==y&&(y=v),null!=n.__d)v=n.__d,n.__d=null;else if(u==d||v!=a||null==v.parentNode){t:if(null==a||a.parentNode!==t)t.appendChild(v);else{for(m=a,f=0;(m=m.nextSibling)&&f<w;f+=2)if(m==v)break t;t.insertBefore(v,a)}"option"==e.type&&(t.value="")}a=v.nextSibling,"function"==typeof e.type&&(e.__d=v)}}return p++,n}),e.__e=y,null!=u&&"function"!=typeof e.type)for(p=u.length;p--;)null!=u[p]&&c(u[p]);for(p=w;p--;)null!=k[p]&&M(k[p],k[p]);if(b)for(p=0;p<b.length;p++)C(b[p],b[++p],b[++p])}function g(t,e,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)e&&n.push(e(null));else if(Array.isArray(t))for(var o=0;o<t.length;o++)g(t[o],e,n);else n.push(e?e("string"==typeof t||"number"==typeof t?s(null,t,null,null):null!=t.__e||null!=t.__c?s(t.type,t.props,t.key,null):t):t);return n}function b(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===u.test(e)?n+"px":null==n?"":n}function k(t,e,n,o,r){var i,l,u,_,c;if(r?"className"===e&&(e="class"):"class"===e&&(e="className"),"key"===e||"children"===e);else if("style"===e)if(i=t.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof o&&(i.cssText="",o=null),o)for(l in o)n&&l in n||b(i,l,"");if(n)for(u in n)o&&n[u]===o[u]||b(i,u,n[u])}else"o"===e[0]&&"n"===e[1]?(_=e!==(e=e.replace(/Capture$/,"")),c=e.toLowerCase(),e=(c in t?c:e).slice(2),n?(o||t.addEventListener(e,w,_),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,w,_)):"list"!==e&&"tagName"!==e&&"form"!==e&&"type"!==e&&!r&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n?t.removeAttribute(e):t.setAttribute(e,n))}function w(t){this.l[t.type](e.event?e.event(t):t)}function x(t,n,o,r,i,l,u,c,a){var s,h,d,v,m,b,k,w,x,S,C=n.type;if(void 0!==n.constructor)return null;(s=e.__b)&&s(n);try{t:if("function"==typeof C){if(w=n.props,x=(s=C.contextType)&&r[s.__c],S=s?x?x.props.value:s.__:r,o.__c?k=(h=n.__c=o.__c).__=h.__E:("prototype"in C&&C.prototype.render?n.__c=h=new C(w,S):(n.__c=h=new f(w,S),h.constructor=C,h.render=E),x&&x.sub(h),h.props=w,h.state||(h.state={}),h.context=S,h.__n=r,d=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=C.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=_({},h.__s)),_(h.__s,C.getDerivedStateFromProps(w,h.__s))),v=h.props,m=h.state,d)null==C.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==C.getDerivedStateFromProps&&w!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(w,S),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(w,h.__s,S)){for(h.props=w,h.state=h.__s,h.__d=!1,h.__v=n,n.__e=o.__e,n.__k=o.__k,h.__h.length&&u.push(h),s=0;s<n.__k.length;s++)n.__k[s]&&(n.__k[s].__=n);break t}null!=h.componentWillUpdate&&h.componentWillUpdate(w,h.__s,S),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,m,b)})}h.context=S,h.props=w,h.state=h.__s,(s=e.__r)&&s(n),h.__d=!1,h.__v=n,h.__P=t,s=h.render(h.props,h.state,h.context),n.__k=g(null!=s&&s.type==p&&null==s.key?s.props.children:s),null!=h.getChildContext&&(r=_(_({},r),h.getChildContext())),d||null==h.getSnapshotBeforeUpdate||(b=h.getSnapshotBeforeUpdate(v,m)),y(t,n,o,r,i,l,u,c,a),h.base=n.__e,h.__h.length&&u.push(h),k&&(h.__E=h.__=null),h.__e=null}else n.__e=P(o.__e,n,o,r,i,l,u,a);(s=e.diffed)&&s(n)}catch(t){e.__e(t,n,o)}return n.__e}function S(t,n){e.__c&&e.__c(n,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(t){t.call(n)})}catch(t){e.__e(t,n.__v)}})}function P(t,e,n,o,r,u,_,c){var a,s,p,f,h,d=n.props,v=e.props;if(r="svg"===e.type||r,null==t&&null!=u)for(a=0;a<u.length;a++)if(null!=(s=u[a])&&(null===e.type?3===s.nodeType:s.localName===e.type)){t=s,u[a]=null;break}if(null==t){if(null===e.type)return document.createTextNode(v);t=r?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),u=null}if(null===e.type)null!=u&&(u[u.indexOf(t)]=null),d!==v&&(t.data=v);else if(e!==n){if(null!=u&&(u=l.slice.call(t.childNodes)),p=(d=n.props||i).dangerouslySetInnerHTML,f=v.dangerouslySetInnerHTML,!c){if(d===i)for(d={},h=0;h<t.attributes.length;h++)d[t.attributes[h].name]=t.attributes[h].value;(f||p)&&(f&&p&&f.__html==p.__html||(t.innerHTML=f&&f.__html||""))}(function(t,e,n,o,r){var i;for(i in n)i in e||k(t,i,null,n[i],o);for(i in e)r&&"function"!=typeof e[i]||"value"===i||"checked"===i||n[i]===e[i]||k(t,i,e[i],n[i],o)})(t,v,d,r,c),e.__k=e.props.children,f||y(t,e,n,o,"foreignObject"!==e.type&&r,u,_,i,c),c||("value"in v&&void 0!==v.value&&v.value!==t.value&&(t.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==t.checked&&(t.checked=v.checked))}return t}function C(t,n,o){try{"function"==typeof t?t(n):t.current=n}catch(t){e.__e(t,o)}}function M(t,n,o){var r,i,l;if(e.unmount&&e.unmount(t),(r=t.ref)&&C(r,null,n),o||"function"==typeof t.type||(o=null!=(i=t.__e)),t.__e=t.__d=null,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){e.__e(t,n)}r.base=r.__P=null}if(r=t.__k)for(l=0;l<r.length;l++)r[l]&&M(r[l],n,o);null!=i&&c(i)}function E(t,e,n){return this.constructor(t,n)}e={__e:function(t,e){for(var n;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(t));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(t)}return v(n.__E=n)}catch(e){t=e}throw t}},f.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=_({},this.state),"function"==typeof t&&(t=t(n,this.props)),t&&_(n,t),null!=t&&this.__v&&(this.__e=!1,e&&this.__h.push(e),v(this))},f.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),v(this))},f.prototype.render=p,n=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout;const{routerSwitch:U}=t;class A extends f{constructor(e){super(e);let n=window.location.pathname;this.unsub=t.$onChange(()=>{const{pathname:e}=t;n!==e&&(this.setState(Object.create(null)),n=e)}),this.initial=!0}shouldComponentUpdate(t){const{next:e,toLast:n,noChange:o,replacedLast:r}=U({pathMap:t.pathMap,noMatch:t.noMatch,root:t.root});this.next=t=>a(e,t);let{pathMap:i,noMatch:l,root:u}=this.props;return t.root!==u||t.noMatch!==l||((t,e)=>{t=t||{},e=e||{};for(let n in t)if(!(n in e))return!0;for(let n in e)if(t[n]!==e[n])return!0;return!1})(i||{},t.pathMap||{})||!(n||r||o)}componentDidMount(){this.initial=!1}componentWillUnmount(){this.unsub()}render({pathMap:t,noMatch:e,root:n,...o}){return a(this.initial?U({pathMap:t,noMatch:e,root:n}).next:this.next,o)}}const N=(t="")=>`${t} a:hover,${t} a:focus,${t} a:active,${t} a:link,${t} a:visited {color: inherit;text-decoration: none;background-color: transparent;outline: 0;-webkit-tap-highlight-color: transparent;}`,D=N(""),L=e=>"[object Object]"===Object.prototype.toString.call(e)?t.stringifyParams(e):e||"";class T extends f{componentDidMount(){const{listenTo:e,toPath:n,toParams:o}=this.props;if(e){let r,i,l=!1,u=()=>{const{pathname:t,search:e}=location;r=t,i=e,this.setState({isActive:l})};const _=()=>{const{pathname:t,search:_}=location;l=!1,"pathname"===e&&r!==t?(n===t&&(l=!0),u()):"search"===e&&i!==_?(L(o)===_&&(l=!0),u()):"url"===e&&(n+L(o)===t+_&&(l=!0),u())};this.unsub=t.$onChange(_),_(),r=location.pathname,i=location.pathname}}componentWillUnmount(){this.unsub&&this.unsub()}render({element:e,children:n,href:o,toPath:r=location.pathname,toParams:i,onClick:l,...u},{isActive:_}){return a(e||"a",{...e?{}:{href:o||r+L(i)},onClick:e=>{r&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),t.route(r,i)),l&&l()},...u},"function"==typeof n?n({...t,isActive:_}):n)}}var O,W,F=[],H=e.__r,$=e.diffed,j=e.__c,R=e.unmount;function I(){F.some(function(t){t.__P&&(t.__H.u.forEach(z),t.__H.u.forEach(V),t.__H.u=[])}),F=[]}function z(t){t.m&&t.m()}function V(t){var e=t.i();"function"==typeof e&&(t.m=e)}function q(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var o in e)if("__source"!==o&&t[o]!==e[o])return!0;return!1}e.__r=function(t){H&&H(t),(O=t.__c).__H&&(O.__H.u.forEach(z),O.__H.u.forEach(V),O.__H.u=[])},e.diffed=function(t){$&&$(t);var n=t.__c;if(n){var o=n.__H;o&&o.u.length&&(1!==F.push(n)&&W===e.requestAnimationFrame||((W=e.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(o),cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);"undefined"!=typeof window&&(e=requestAnimationFrame(n))})(I))}},e.__c=function(t,e){e.some(function(t){t.__h.forEach(z),t.__h=t.__h.filter(function(t){return!t.i||V(t)})}),j&&j(t,e)},e.unmount=function(t){R&&R(t);var e=t.__c;if(e){var n=e.__H;n&&n.t.forEach(function(t){return t.m&&t.m()})}},function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).isPureReactComponent=!0,n}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o.prototype.shouldComponentUpdate=function(t,e){return q(this.props,t)||q(this.state,e)}}(f);var B=e.vnode;e.vnode=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),B&&B(t)};var Z=e.__e;function G(t){return t&&((t=function(t,e){for(var n in e)t[n]=e[n];return t}({},t)).__c=null,t.__k=t.__k&&t.__k.map(G)),t}function J(t){this.__u=0,this.__b=null}function K(t){var e=t.__.__c;return e&&e.o&&e.o(t)}function Q(){this.u=null,this.i=null}e.__e=function(t,e,n){if(t.then)for(var o,r=e;r=r.__;)if((o=r.__c)&&o.l)return o.l(t,e.__c);Z(t,e,n)},(J.prototype=new f).l=function(t,e){var n=this,o=K(n.__v),r=!1,i=function(){r||(r=!0,o?o(l):l())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){i(),e.__c&&e.__c()};var l=function(){--n.__u||(n.__v.__k[0]=n.state.o,n.setState({o:n.__b=null}))};n.__u++||n.setState({o:n.__b=n.__v.__k[0]}),t.then(i,i)},J.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=G(this.__b),this.__b=null),[a(f,null,e.o?null:t.children),e.o&&t.fallback]};var X=function(t,e,n){if(++n[1]===n[0]&&t.i.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.i.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(Q.prototype=new f).o=function(t){var e=this,n=K(e.__v),o=e.i.get(t);return o[0]++,function(r){var i=function(){e.props.revealOrder?(o.push(r),X(e,t,o)):r()};n?n(i):i()}},Q.prototype.render=function(t){this.u=null,this.i=new Map;var e=g(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.i.set(e[n],this.u=[1,0,this.u]);return t.children},Q.prototype.componentDidUpdate=Q.prototype.componentDidMount=function(){var t=this;t.i.forEach(function(e,n){X(t,n,e)})},function(){var t=function(){}.prototype;t.getChildContext=function(){return this.props.context},t.render=function(t){return t.children}}();var Y=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/;f.prototype.isReactComponent={};var tt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,et=e.event;function nt(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}e.event=function(t){return et&&(t=et(t)),t.persist=function(){},t.nativeEvent=t};var ot={configurable:!0,get:function(){return this.class}},rt=e.vnode;e.vnode=function(t){t.$$typeof=tt;var e=t.type,n=t.props;if("function"!=typeof e){var o,r,i;for(i in n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===e&&(g(n.children).forEach(function(t){-1!=n.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete n.value),n)if(o=Y.test(i))break;if(o)for(i in r=t.props={},n)r[Y.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=n[i]}(n.class||n.className)&&(ot.enumerable="className"in n,n.className&&(n.class=n.className),Object.defineProperty(n,"className",ot)),function(e){var n=t.type,o=t.props;if(o&&"string"==typeof n){var r={};for(var i in o)/^on(Ani|Tra|Tou)/.test(i)&&(o[i.toLowerCase()]=o[i],delete o[i]),r[i.toLowerCase()]=i;if(r.ondoubleclick&&(o.ondblclick=o[r.ondoubleclick],delete o[r.ondoubleclick]),r.onbeforeinput&&(o.onbeforeinput=o[r.onbeforeinput],delete o[r.onbeforeinput]),r.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(o.type))){var l=r.oninput||"oninput";o[l]||(o[l]=o[r.onchange],delete o[r.onchange])}}}(),"function"==typeof e&&!e.m&&e.prototype&&(nt(e.prototype,"componentWillMount"),nt(e.prototype,"componentWillReceiveProps"),nt(e.prototype,"componentWillUpdate"),e.m=!0),rt&&rt(t)};const it=(t,e)=>{const n=function(t){var e,n,o;function r(r){if(e||(e=t()).then(function(t){n=t.default},function(t){o=t}),o)throw o;if(!n)throw e;return a(n,r)}return r.displayName="Lazy",r.t=!0,r}(t),o=e||(()=>a("div"));return function(t){return a(J,{fallback:a(o)},a(n,{...t}))}};export{T as Linkage,A as Router,D as anchorTagResetStyles,N as anchorTagResetStylesFn,it as lazyLoader};
//# sourceMappingURL=index.js.map
