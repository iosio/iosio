const e=require("postcss");var s=require("postcss-flexbugs-fixes");const r=require("autoprefixer"),t=(require("postcss-preset-env"),new(require("clean-css"))({compatibility:"ie8",rebase:!1,inline:["none"],level:{1:{all:!1,optimizeBackground:!0,optimizeBorderRadius:!0,optimizeFilter:!0,optimizeFont:!0,optimizeFontWeight:!0,optimizeOutline:!0,removeEmpty:!1,removeNegativePaddings:!1,removeQuotes:!0,removeWhitespace:!0,replaceMultipleZeros:!1,replaceTimeUnits:!0,replaceZeroUnits:!0,roundingPrecision:!1,selectorsSortingMethod:!1,specialComments:"all",tidyAtRules:!1,tidyBlockScopes:!1,tidySelectors:!1,semicolonAfterLastProperty:!1}}})),i=/____EXPR_ID_(\d+)____/g,n={tag:"jcss",replace:""};module.exports=function({types:o}){return{visitor:{TaggedTemplateExpression(a,{opts:l,file:p}){l=Object.assign({},n,l);let u=Object.assign({},{from:p.opts.filename},l.postCssOptions);if(a.node.tag.name!==l.tag)return;l.replace&&(a.node.tag.name=l.replace);let c=a.node.quasi.expressions,d=a.node.quasi.quasis.reduce((e,s,r)=>{let t=c[r]?function(e){return`____EXPR_ID_${e}____`}(r):"";return e+s.value.raw+t},""),m=e([r({flexbox:!0,overrideBrowserslist:l.browsers&&l.browsers}),s()]).process(d,u).css;m=function(e){const s=t.minify(e);return s.warnings.length>0||s.errors.length>0?(console.log(s.warnings,s.errors),e.trim()):s.styles}(m);let g=function(e){let s=i.exec(e),r=[];for(;s;)r.push(s),s=i.exec(e);let t=r.reduce((s,r)=>{let[t,i]=r;return s.quasis.push(e.substring(s.prevEnd,r.index)),s.exprs.push(i),s.prevEnd=r.index+t.length,s},{prevEnd:0,quasis:[],exprs:[]});return t.quasis.push(e.substring(t.prevEnd,e.length)),{quasis:t.quasis,exprs:t.exprs}}(m),_=function(e,s){return s.map((r,t)=>e.templateElement({raw:r,cooked:r},t===s.length-1))}(o,g.quasis),x=g.exprs.map(e=>c[e]);a.node.quasi.quasis=_,a.node.quasi.expressions=x,a.replaceWith(o.TemplateLiteral(_,x))}}}};
