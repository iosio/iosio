import{Component as t,h as o}from"preact";import{useState as r,useCallback as e,useEffect as n}from"preact/hooks";const c=()=>Object.create(null),h=r=>e=>{function n(){let t=[];[].concat(r).forEach(o=>t.push(o.$onChange(()=>this.setState(c())))),this.componentWillUnmount=()=>t.forEach(t=>t()),this.render=()=>o(e,this.props,this.props.children)}return(n.prototype=new t).constructor=n},p=()=>{const[,t]=r(c());return e(()=>t(c()),[t])},s=t=>{let o=p();n(()=>{let r=[];return[].concat(t).forEach(t=>r.push(t.$onChange(o))),()=>r.forEach(t=>t())},[])};export{h as connectObi,p as useForceUpdate,s as useObi};
