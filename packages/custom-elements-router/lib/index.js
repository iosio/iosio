import{extend as t}from"@iosio/util";import{routing as e}from"@iosio/routing";export{routing}from"@iosio/routing";const o=({transition:o,pathMap:n,noMatch:a,loadingIndicator:i,lazyMap:r})=>{var s,l,m,p,u=!0,h=`opacity ${o="number"==typeof o?o:!0===o?150:0}ms ease-in-out`,{routerSwitch:c}=e,d=customElements,g=(t,e)=>((t=>{let e=t.lastElementChild;for(;e;)t.removeChild(e),e=t.lastElementChild})(t),t.appendChild(e)),f=(e,n)=>{if(clearTimeout(m),s=document.createElement(e),u||!o)return g(n,s);t(n.style,{transition:h,opacity:0}),m=setTimeout(()=>{g(n,s),t(n.style,{transition:h,opacity:1})},o?o+10:0)},y=()=>{let{next:t,toLast:e,noChange:o,replacedLast:s}=c({pathMap:n,noMatch:a}),m=l&&l();var p,h;!m||!m.nodeName||e||s||o&&!u||(t&&d.get(t)?f(t,m):(p=t,h=m,i&&f(i,h),r&&r[p]&&r[p]().then(()=>d.whenDefined(p).then(()=>n[location.pathname]===p&&f(p,h)))))};return{mountTo:t=>(p&&p(),l=t,y(),u=!1,p=e.$onChange(y))}};export{o as CustomElementsRouter};
//# sourceMappingURL=index.js.map
