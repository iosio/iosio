import{isString as e,isFunc as l,isNum as n,isBool as t,isArray as r,d as i}from"@iosio/util";const u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,o=function(e){return this._listeners[e.type](e)},s=(e,l,t)=>{"-"===l[0]?e.setProperty(l,t):e[l]=n(t)&&!1===u.test(l)?t+"px":null==t?"":t},d=(n,t,r,i,u)=>{if("key"===(t=u?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t){const l=n.style;if(e(r))l.cssText=r;else{if(e(i)&&(l.cssText="",i=null),i)for(let e in i)r&&e in r||s(l,e,"");if(r)for(let e in r)i&&r[e]===i[e]||s(l,e,r[e])}}else if("o"===t[0]&&"n"===t[1]){let e=t!==(t=t.replace(/Capture$/,"")),l=t.toLowerCase();t=(l in n?l:t).slice(2),r?(i||n.addEventListener(t,o,e),(n._listeners||(n._listeners={}))[t]=r):n.removeEventListener(t,o,e)}else"list"!==t&&"tagName"!==t&&"form"!==t&&!u&&t in n?n[t]=null==r?"":r:l(r)||"dangerouslySetInnerHTML"===t||(t!==(t=t.replace(/^xlink:?/,""))?null==r||!1===r?n.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):n.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null==r||!1===r?n.removeAttribute(t):n.setAttribute(t,r))},a={},c=[],p=e=>e.children;function f(e,l){for(let n in l)e[n]=l[n];return e}const h=(e,l,n,t)=>({type:e,props:l,key:n,ref:t,_children:null,_parent:null,_depth:0,_dom:null,_lastDomChild:null,_component:null,constructor:void 0}),_=(e,n)=>l(e)?e(n):e.current=n,m=(l,i,u)=>{if(null==u&&(u=[]),null==l||t(l))i&&u.push(i(null));else if(r(l))for(let e=0;e<l.length;e++)m(l[e],i,u);else u.push(i?i((l=>{if(null==l||t(l))return null;if(e(l)||n(l))return h(null,l,null,null);if(null!=l._dom||null!=l._component){let e=h(l.type,l.props,l.key,null);return e._dom=l._dom,e}return l})(l)):l);return u},y=(e,n)=>{if(null==n)return e._parent?y(e._parent,e._parent._children.indexOf(e)+1):null;let t;for(;n<e._children.length;n++)if(t=e._children[n],null!=t&&null!=t._dom)return t._dom;return l(e.type)?y(e):null},g=(e,n,t)=>{let r,i;if((r=e.ref)&&_(r,null),t||l(e.type)||(t=null!=(i=e._dom)),e._dom=e._lastDomChild=null,null!=(r=e._component)&&(r.base=r._parentDom=null),r=e._children)for(let e=0;e<r.length;e++)r[e]&&g(r[e],n,t);null!=i&&i.remove()},v=(e,n,t,r,i,u,o)=>{let s,d,p,f,h,v,w,b=t&&t._children||c,x=b.length;if(o==a&&(o=null!=u?u[0]:x?y(t,0):null),s=0,n._children=m(n._children,t=>{if(null!=t){if(t._parent=n,t._depth=n._depth+1,p=b[s],null===p||p&&t.key==p.key&&t.type===p.type)b[s]=void 0;else for(d=0;d<x;d++){if(p=b[d],p&&t.key==p.key&&t.type===p.type){b[d]=void 0;break}p=null}if(p=p||a,f=k(e,t,p,r,i,u,o),(d=t.ref)&&p.ref!=d&&(w||(w=[])).push(d,f,t),null!=f){if(null==v&&(v=f),null!=t._lastDomChild)f=t._lastDomChild,t._lastDomChild=null;else if(u==p||f!=o||null==f.parentNode){e:if(null==o||o.parentNode!==e)e.appendChild(f);else{for(h=o,d=0;(h=h.nextSibling)&&d<x;d+=2)if(h==f)break e;e.insertBefore(f,o)}"option"==n.type&&(e.value="")}o=f.nextSibling,l(n.type)&&(n._lastDomChild=f)}}return s++,t}),n._dom=v,null!=u&&!l(n.type))for(s=u.length;s--;)null!=u[s]&&u[s].remove();for(s=x;s--;)null!=b[s]&&g(b[s],b[s]);if(w)for(s=0;s<w.length;s++)_(w[s],w[++s],++s)},k=(e,n,t,r,u,o,s)=>{let f,h=n.type;if(void 0!==n.constructor)return null;if(l(h)){let l=n.props;n._component=h,f=h(l),n._children=m(null!=f&&f.type==p&&null==f.key?f.props.children:f),v(e,n,t,r,u,o,s)}else n._dom=((e,l,n,t,r,u)=>{let o,s=n.props,p=l.props,f=l.type;if(r="svg"===f||r,null==e&&null!=u)for(o=0;o<u.length;o++){const l=u[o];if(null!=l&&(null===f?3===l.nodeType:l.localName===f)){e=l,u[o]=null;break}}if(null==e){if(null===f)return i.createTextNode(p);e=r?i.createElementNS("http://www.w3.org/2000/svg",f):i.createElement(f),u=null}if(null===f)null!=u&&(u[u.indexOf(e)]=null),s!==p&&(e.data=p);else if(l!==n){null!=u&&(u=c.slice.call(e.childNodes)),s=n.props||a;let i=s.dangerouslySetInnerHTML,o=p.dangerouslySetInnerHTML;if(s===a){s={};for(let l=0;l<e.attributes.length;l++)s[e.attributes[l].name]=e.attributes[l].value}(o||i)&&(o&&i&&o.__html==i.__html||(e.innerHTML=o&&o.__html||"")),((e,l,n,t,r)=>{let i;for(i in n)i in l||d(e,i,null,n[i],t);for(i in l)"value"===i||"checked"===i||n[i]===l[i]||d(e,i,l[i],n[i],t)})(e,p,s,r),l._children=l.props.children,o||v(e,l,n,t,"foreignObject"!==l.type&&r,u,a),"value"in p&&void 0!==p.value&&p.value!==e.value&&(e.value=null==p.value?"":p.value),"checked"in p&&void 0!==p.checked&&p.checked!==e.checked&&(e.checked=p.checked)}return e})(t._dom,n,t,r,u,o);return n._dom},w=function(e,l,n){let t=arguments;if(l=f({},l),t.length>3){n=[n];for(let e=3;e<t.length;e++)n.push(t[e])}null!=n&&(l.children=n);let r=l.ref,i=l.key;return null!=r&&delete l.ref,null!=i&&delete l.key,h(e,l,i,r)},b=(e,l)=>{let n=l._children;e=w(p,null,[e]),k(l,l._children=e,n||a,a,void 0!==l.ownerSVGElement,n?null:c.slice.call(l.childNodes),a)};export{p as Fragment,w as h,b as render,d as setProperty,m as toChildArray};
//# sourceMappingURL=index.js.map
